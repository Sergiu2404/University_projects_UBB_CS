{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\SergiuGoian\\\\Desktop\\\\Uni_projects_UBB_CS\\\\University_projects_UBB_CS\\\\SEM5\\\\MobileApp\\\\solved_exam_models\\\\recipe_app_model\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\SergiuGoian\\\\Desktop\\\\Uni_projects_UBB_CS\\\\University_projects_UBB_CS\\\\SEM5\\\\MobileApp\\\\solved_exam_models\\\\recipe_app_model\\\\server\",\"filename\":\"C:\\\\Users\\\\SergiuGoian\\\\Desktop\\\\Uni_projects_UBB_CS\\\\University_projects_UBB_CS\\\\SEM5\\\\MobileApp\\\\solved_exam_models\\\\recipe_app_model\\\\server\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\SergiuGoian\\\\Desktop\\\\Uni_projects_UBB_CS\\\\University_projects_UBB_CS\\\\SEM5\\\\MobileApp\\\\solved_exam_models\\\\recipe_app_model\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\SergiuGoian\\\\Desktop\\\\Uni_projects_UBB_CS\\\\University_projects_UBB_CS\\\\SEM5\\\\MobileApp\\\\solved_exam_models\\\\recipe_app_model\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$47\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\SergiuGoian\\\\Desktop\\\\Uni_projects_UBB_CS\\\\University_projects_UBB_CS\\\\SEM5\\\\MobileApp\\\\solved_exam_models\\\\recipe_app_model\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nvar koa = require('koa');\nvar app = module.exports = new koa();\nvar server = require('http').createServer(app.callback());\nvar WebSocket = require('ws');\nvar wss = new WebSocket.Server({\n  server: server\n});\nvar Router = require('koa-router');\nvar cors = require('@koa/cors');\nvar bodyParser = require('koa-bodyparser');\napp.use(bodyParser());\napp.use(cors());\napp.use(middleware);\nfunction middleware(ctx, next) {\n  var start = new Date();\n  return next().then(function () {\n    var ms = new Date() - start;\n    console.log(\"\".concat(start.toLocaleTimeString(), \" \").concat(ctx.response.status, \"  \").concat(ctx.request.method, \" \").concat(ctx.request.url, \" - \").concat(ms, \"ms\"));\n  });\n}\nvar getRandomInt = function getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min;\n};\nvar receipeNames = ['Healthier chicken chow mein', 'One-pot healthy Mexican beef mince', 'Mongolian chicken', 'One-pan butter chicken with rice', '17-minute chicken pot pie', 'Spanish baked chicken with chorizo rice'];\nvar descriptionNames = ['very good', 'healthy', 'lite', 'tasty', 'good'];\nvar ingredientsNames = ['chicken', 'rice', 'salamy', 'bacon', 'eggs'];\nvar instructionsNames = ['1. prepare, 2. eat', '1. prepare, 2. bake, 3. enjoy', '1. prepare, 2. order delivey'];\nvar categories = ['desserts', 'main dishes', 'vegan', 'keto'];\nvar dificulties = ['easy', 'medium', 'hard'];\nvar recipes = [];\nfor (var i = 0; i < 20; i++) {\n  recipes.push({\n    id: i + 1,\n    name: receipeNames[getRandomInt(0, receipeNames.length)],\n    description: descriptionNames[getRandomInt(0, descriptionNames.length)],\n    ingredients: ingredientsNames[getRandomInt(0, ingredientsNames.length)],\n    instructions: instructionsNames[getRandomInt(0, instructionsNames.length)],\n    category: categories[getRandomInt(0, categories.length)],\n    difficulty: dificulties[getRandomInt(0, dificulties.length)]\n  });\n}\nvar router = new Router();\nrouter.get('/categories', function (ctx) {\n  ctx.response.body = categories;\n  ctx.response.status = 200;\n});\nrouter.get('/recipes/:category', function (ctx) {\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\n  var headers = ctx.params;\n  var category = headers.category;\n  // console.log(\"category: \" + JSON.stringify(category));\n  ctx.response.body = recipes.filter(function (recipe) {\n    return recipe.category == category;\n  });\n  // console.log(\"body: \" + JSON.stringify(ctx.response.body));\n  ctx.response.status = 200;\n});\nrouter.get('/easiest', function (ctx) {\n  ctx.response.body = recipes;\n  ctx.response.status = 200;\n});\nrouter.post('/difficulty', function (ctx) {\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\n  var headers = ctx.request.body;\n  var difficulty = headers.difficulty;\n  // console.log(\"body: \" + JSON.stringify(headers));\n  var id = headers.id;\n  if (typeof id !== 'undefined' && typeof difficulty !== 'undefined') {\n    var index = recipes.findIndex(function (recipe) {\n      return recipe.id == id;\n    });\n    if (index === -1) {\n      console.log(\"Recipe not available!\");\n      ctx.response.body = {\n        text: 'Recipe not available!'\n      };\n      ctx.response.status = 404;\n    } else {\n      var recipe = recipes[index];\n      recipe.difficulty = difficulty;\n      ctx.response.body = recipe;\n      ctx.response.status = 200;\n    }\n  } else {\n    console.log(\"Missing or invalid: id or difficulty!\");\n    ctx.response.body = {\n      text: 'Missing or invalid: id or difficulty!'\n    };\n    ctx.response.status = 404;\n  }\n});\nvar broadcast = function broadcast(data) {\n  return wss.clients.forEach(function (client) {\n    if (client.readyState === WebSocket.OPEN) {\n      client.send(JSON.stringify(data));\n    }\n  });\n};\nrouter.post('/recipe', function (ctx) {\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\n  var headers = ctx.request.body;\n  // console.log(\"body: \" + JSON.stringify(headers));\n  var name = headers.name;\n  var description = headers.description;\n  var ingredients = headers.ingredients;\n  var instructions = headers.instructions;\n  var category = headers.category;\n  var difficulty = headers.difficulty;\n  if (typeof name !== 'undefined' && typeof description !== 'undefined' && typeof ingredients !== 'undefined' && typeof instructions !== 'undefined' && typeof category !== 'undefined' && typeof difficulty !== 'undefined') {\n    var index = recipes.findIndex(function (recipe) {\n      return recipe.name == name;\n    });\n    if (index !== -1) {\n      console.log(\"Recipe already exists!\");\n      ctx.response.body = {\n        text: 'Recipe already exists!'\n      };\n      ctx.response.status = 404;\n    } else {\n      var maxId = Math.max.apply(Math, recipes.map(function (recipe) {\n        return recipe.id;\n      })) + 1;\n      var recipe = {\n        id: maxId,\n        name: name,\n        description: description,\n        ingredients: ingredients,\n        instructions: instructions,\n        category: category,\n        difficulty: difficulty\n      };\n      recipes.push(recipe);\n      broadcast(recipe);\n      ctx.response.body = recipe;\n      ctx.response.status = 200;\n    }\n  } else {\n    var message = \"Missing or invalid: name, description, ingredients, instructions, category or difficulty!\";\n    console.log(message);\n    ctx.response.body = {\n      text: message\n    };\n    ctx.response.status = 404;\n  }\n});\nrouter.del('/recipe/:id', function (ctx) {\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\n  var headers = ctx.params;\n  // console.log(\"body: \" + JSON.stringify(headers));\n  var id = headers.id;\n  if (typeof id !== 'undefined') {\n    var index = recipes.findIndex(function (recipe) {\n      return recipe.id == id;\n    });\n    if (index === -1) {\n      console.log(\"No recipe with id: \" + id);\n      ctx.response.body = {\n        text: 'Invalid recipe id'\n      };\n      ctx.response.status = 404;\n    } else {\n      var recipe = recipes[index];\n      recipes.splice(index, 1);\n      ctx.response.body = recipe;\n      ctx.response.status = 200;\n    }\n  } else {\n    ctx.response.body = {\n      text: 'Id missing or invalid'\n    };\n    ctx.response.status = 404;\n  }\n});\napp.use(router.routes());\napp.use(router.allowedMethods());\nvar port = 2325;\nserver.listen(port, function () {\n  console.log(\"\\uD83D\\uDE80 Server listening on \".concat(port, \" ... \\uD83D\\uDE80\"));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJrb2EiLCJyZXF1aXJlIiwiYXBwIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcnZlciIsImNyZWF0ZVNlcnZlciIsImNhbGxiYWNrIiwiV2ViU29ja2V0Iiwid3NzIiwiU2VydmVyIiwiUm91dGVyIiwiY29ycyIsImJvZHlQYXJzZXIiLCJ1c2UiLCJtaWRkbGV3YXJlIiwiY3R4IiwibmV4dCIsInN0YXJ0IiwiRGF0ZSIsInRoZW4iLCJtcyIsImNvbnNvbGUiLCJsb2ciLCJjb25jYXQiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJyZXNwb25zZSIsInN0YXR1cyIsInJlcXVlc3QiLCJtZXRob2QiLCJ1cmwiLCJnZXRSYW5kb21JbnQiLCJtaW4iLCJtYXgiLCJNYXRoIiwiY2VpbCIsImZsb29yIiwicmFuZG9tIiwicmVjZWlwZU5hbWVzIiwiZGVzY3JpcHRpb25OYW1lcyIsImluZ3JlZGllbnRzTmFtZXMiLCJpbnN0cnVjdGlvbnNOYW1lcyIsImNhdGVnb3JpZXMiLCJkaWZpY3VsdGllcyIsInJlY2lwZXMiLCJpIiwicHVzaCIsImlkIiwibmFtZSIsImxlbmd0aCIsImRlc2NyaXB0aW9uIiwiaW5ncmVkaWVudHMiLCJpbnN0cnVjdGlvbnMiLCJjYXRlZ29yeSIsImRpZmZpY3VsdHkiLCJyb3V0ZXIiLCJnZXQiLCJib2R5IiwiaGVhZGVycyIsInBhcmFtcyIsImZpbHRlciIsInJlY2lwZSIsInBvc3QiLCJpbmRleCIsImZpbmRJbmRleCIsInRleHQiLCJicm9hZGNhc3QiLCJkYXRhIiwiY2xpZW50cyIsImZvckVhY2giLCJjbGllbnQiLCJyZWFkeVN0YXRlIiwiT1BFTiIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwibWF4SWQiLCJhcHBseSIsIm1hcCIsIm1lc3NhZ2UiLCJkZWwiLCJzcGxpY2UiLCJyb3V0ZXMiLCJhbGxvd2VkTWV0aG9kcyIsInBvcnQiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcU2VyZ2l1R29pYW5cXERlc2t0b3BcXFVuaV9wcm9qZWN0c19VQkJfQ1NcXFVuaXZlcnNpdHlfcHJvamVjdHNfVUJCX0NTXFxTRU01XFxNb2JpbGVBcHBcXHNvbHZlZF9leGFtX21vZGVsc1xccmVjaXBlX2FwcF9tb2RlbFxcc2VydmVyXFxzcmNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGtvYSA9IHJlcXVpcmUoJ2tvYScpO1xyXG52YXIgYXBwID0gbW9kdWxlLmV4cG9ydHMgPSBuZXcga29hKCk7XHJcbmNvbnN0IHNlcnZlciA9IHJlcXVpcmUoJ2h0dHAnKS5jcmVhdGVTZXJ2ZXIoYXBwLmNhbGxiYWNrKCkpO1xyXG5jb25zdCBXZWJTb2NrZXQgPSByZXF1aXJlKCd3cycpO1xyXG5jb25zdCB3c3MgPSBuZXcgV2ViU29ja2V0LlNlcnZlcih7IHNlcnZlciB9KTtcclxuY29uc3QgUm91dGVyID0gcmVxdWlyZSgna29hLXJvdXRlcicpO1xyXG5jb25zdCBjb3JzID0gcmVxdWlyZSgnQGtvYS9jb3JzJyk7XHJcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKCdrb2EtYm9keXBhcnNlcicpO1xyXG5cclxuYXBwLnVzZShib2R5UGFyc2VyKCkpO1xyXG5cclxuYXBwLnVzZShjb3JzKCkpO1xyXG5cclxuYXBwLnVzZShtaWRkbGV3YXJlKTtcclxuXHJcbmZ1bmN0aW9uIG1pZGRsZXdhcmUoY3R4LCBuZXh0KSB7XHJcbiAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpO1xyXG4gIHJldHVybiBuZXh0KCkudGhlbigoKSA9PiB7XHJcbiAgICBjb25zdCBtcyA9IG5ldyBEYXRlKCkgLSBzdGFydDtcclxuICAgIGNvbnNvbGUubG9nKGAke3N0YXJ0LnRvTG9jYWxlVGltZVN0cmluZygpfSAke2N0eC5yZXNwb25zZS5zdGF0dXN9ICAke2N0eC5yZXF1ZXN0Lm1ldGhvZH0gJHtjdHgucmVxdWVzdC51cmx9IC0gJHttc31tc2ApO1xyXG4gIH0pO1xyXG59XHJcblxyXG5jb25zdCBnZXRSYW5kb21JbnQgPSAobWluLCBtYXgpID0+IHtcclxuICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxufTtcclxuXHJcbmNvbnN0IHJlY2VpcGVOYW1lcyA9IFtcclxuICAnSGVhbHRoaWVyIGNoaWNrZW4gY2hvdyBtZWluJyxcclxuICAnT25lLXBvdCBoZWFsdGh5IE1leGljYW4gYmVlZiBtaW5jZScsXHJcbiAgJ01vbmdvbGlhbiBjaGlja2VuJyxcclxuICAnT25lLXBhbiBidXR0ZXIgY2hpY2tlbiB3aXRoIHJpY2UnLFxyXG4gICcxNy1taW51dGUgY2hpY2tlbiBwb3QgcGllJyxcclxuICAnU3BhbmlzaCBiYWtlZCBjaGlja2VuIHdpdGggY2hvcml6byByaWNlJ107XHJcbmNvbnN0IGRlc2NyaXB0aW9uTmFtZXMgPSBbJ3ZlcnkgZ29vZCcsICdoZWFsdGh5JywgJ2xpdGUnLCAndGFzdHknLCAnZ29vZCddO1xyXG5jb25zdCBpbmdyZWRpZW50c05hbWVzID0gWydjaGlja2VuJywgJ3JpY2UnLCAnc2FsYW15JywgJ2JhY29uJywgJ2VnZ3MnXTtcclxuY29uc3QgaW5zdHJ1Y3Rpb25zTmFtZXMgPSBbXHJcbiAgJzEuIHByZXBhcmUsIDIuIGVhdCcsXHJcbiAgJzEuIHByZXBhcmUsIDIuIGJha2UsIDMuIGVuam95JyxcclxuICAnMS4gcHJlcGFyZSwgMi4gb3JkZXIgZGVsaXZleSddO1xyXG5jb25zdCBjYXRlZ29yaWVzID0gWydkZXNzZXJ0cycsICdtYWluIGRpc2hlcycsICd2ZWdhbicsICdrZXRvJ107XHJcbmNvbnN0IGRpZmljdWx0aWVzID0gWydlYXN5JywgJ21lZGl1bScsICdoYXJkJ107XHJcbmNvbnN0IHJlY2lwZXMgPSBbXTtcclxuZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XHJcbiAgcmVjaXBlcy5wdXNoKHtcclxuICAgIGlkOiBpICsgMSxcclxuICAgIG5hbWU6IHJlY2VpcGVOYW1lc1tnZXRSYW5kb21JbnQoMCwgcmVjZWlwZU5hbWVzLmxlbmd0aCldLFxyXG4gICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uTmFtZXNbZ2V0UmFuZG9tSW50KDAsIGRlc2NyaXB0aW9uTmFtZXMubGVuZ3RoKV0sXHJcbiAgICBpbmdyZWRpZW50czogaW5ncmVkaWVudHNOYW1lc1tnZXRSYW5kb21JbnQoMCwgaW5ncmVkaWVudHNOYW1lcy5sZW5ndGgpXSxcclxuICAgIGluc3RydWN0aW9uczogaW5zdHJ1Y3Rpb25zTmFtZXNbZ2V0UmFuZG9tSW50KDAsIGluc3RydWN0aW9uc05hbWVzLmxlbmd0aCldLFxyXG4gICAgY2F0ZWdvcnk6IGNhdGVnb3JpZXNbZ2V0UmFuZG9tSW50KDAsIGNhdGVnb3JpZXMubGVuZ3RoKV0sXHJcbiAgICBkaWZmaWN1bHR5OiBkaWZpY3VsdGllc1tnZXRSYW5kb21JbnQoMCwgZGlmaWN1bHRpZXMubGVuZ3RoKV1cclxuICB9KTtcclxufVxyXG5cclxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpO1xyXG5yb3V0ZXIuZ2V0KCcvY2F0ZWdvcmllcycsIGN0eCA9PiB7XHJcbiAgY3R4LnJlc3BvbnNlLmJvZHkgPSBjYXRlZ29yaWVzO1xyXG4gIGN0eC5yZXNwb25zZS5zdGF0dXMgPSAyMDA7XHJcbn0pO1xyXG5cclxucm91dGVyLmdldCgnL3JlY2lwZXMvOmNhdGVnb3J5JywgY3R4ID0+IHtcclxuICAvLyBjb25zb2xlLmxvZyhcImN0eDogXCIgKyBKU09OLnN0cmluZ2lmeShjdHgpKTtcclxuICBjb25zdCBoZWFkZXJzID0gY3R4LnBhcmFtcztcclxuICBjb25zdCBjYXRlZ29yeSA9IGhlYWRlcnMuY2F0ZWdvcnk7XHJcbiAgLy8gY29uc29sZS5sb2coXCJjYXRlZ29yeTogXCIgKyBKU09OLnN0cmluZ2lmeShjYXRlZ29yeSkpO1xyXG4gIGN0eC5yZXNwb25zZS5ib2R5ID0gcmVjaXBlcy5maWx0ZXIocmVjaXBlID0+IHJlY2lwZS5jYXRlZ29yeSA9PSBjYXRlZ29yeSk7XHJcbiAgLy8gY29uc29sZS5sb2coXCJib2R5OiBcIiArIEpTT04uc3RyaW5naWZ5KGN0eC5yZXNwb25zZS5ib2R5KSk7XHJcbiAgY3R4LnJlc3BvbnNlLnN0YXR1cyA9IDIwMDtcclxufSk7XHJcblxyXG5yb3V0ZXIuZ2V0KCcvZWFzaWVzdCcsIGN0eCA9PiB7XHJcbiAgY3R4LnJlc3BvbnNlLmJvZHkgPSByZWNpcGVzO1xyXG4gIGN0eC5yZXNwb25zZS5zdGF0dXMgPSAyMDA7XHJcbn0pO1xyXG5cclxucm91dGVyLnBvc3QoJy9kaWZmaWN1bHR5JywgY3R4ID0+IHtcclxuICAvLyBjb25zb2xlLmxvZyhcImN0eDogXCIgKyBKU09OLnN0cmluZ2lmeShjdHgpKTtcclxuICBjb25zdCBoZWFkZXJzID0gY3R4LnJlcXVlc3QuYm9keTtcclxuICBjb25zdCBkaWZmaWN1bHR5ID0gaGVhZGVycy5kaWZmaWN1bHR5O1xyXG4gIC8vIGNvbnNvbGUubG9nKFwiYm9keTogXCIgKyBKU09OLnN0cmluZ2lmeShoZWFkZXJzKSk7XHJcbiAgY29uc3QgaWQgPSBoZWFkZXJzLmlkO1xyXG4gIGlmICh0eXBlb2YgaWQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkaWZmaWN1bHR5ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgY29uc3QgaW5kZXggPSByZWNpcGVzLmZpbmRJbmRleChyZWNpcGUgPT4gcmVjaXBlLmlkID09IGlkKTtcclxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJSZWNpcGUgbm90IGF2YWlsYWJsZSFcIik7XHJcbiAgICAgIGN0eC5yZXNwb25zZS5ib2R5ID0geyB0ZXh0OiAnUmVjaXBlIG5vdCBhdmFpbGFibGUhJyB9O1xyXG4gICAgICBjdHgucmVzcG9uc2Uuc3RhdHVzID0gNDA0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IHJlY2lwZSA9IHJlY2lwZXNbaW5kZXhdO1xyXG4gICAgICByZWNpcGUuZGlmZmljdWx0eSA9IGRpZmZpY3VsdHk7XHJcbiAgICAgIGN0eC5yZXNwb25zZS5ib2R5ID0gcmVjaXBlO1xyXG4gICAgICBjdHgucmVzcG9uc2Uuc3RhdHVzID0gMjAwO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIk1pc3Npbmcgb3IgaW52YWxpZDogaWQgb3IgZGlmZmljdWx0eSFcIik7XHJcbiAgICBjdHgucmVzcG9uc2UuYm9keSA9IHsgdGV4dDogJ01pc3Npbmcgb3IgaW52YWxpZDogaWQgb3IgZGlmZmljdWx0eSEnIH07XHJcbiAgICBjdHgucmVzcG9uc2Uuc3RhdHVzID0gNDA0O1xyXG4gIH1cclxufSk7XHJcblxyXG5jb25zdCBicm9hZGNhc3QgPSAoZGF0YSkgPT5cclxuICB3c3MuY2xpZW50cy5mb3JFYWNoKChjbGllbnQpID0+IHtcclxuICAgIGlmIChjbGllbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgY2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxucm91dGVyLnBvc3QoJy9yZWNpcGUnLCBjdHggPT4ge1xyXG4gIC8vIGNvbnNvbGUubG9nKFwiY3R4OiBcIiArIEpTT04uc3RyaW5naWZ5KGN0eCkpO1xyXG4gIGNvbnN0IGhlYWRlcnMgPSBjdHgucmVxdWVzdC5ib2R5O1xyXG4gIC8vIGNvbnNvbGUubG9nKFwiYm9keTogXCIgKyBKU09OLnN0cmluZ2lmeShoZWFkZXJzKSk7XHJcbiAgY29uc3QgbmFtZSA9IGhlYWRlcnMubmFtZTtcclxuICBjb25zdCBkZXNjcmlwdGlvbiA9IGhlYWRlcnMuZGVzY3JpcHRpb247XHJcbiAgY29uc3QgaW5ncmVkaWVudHMgPSBoZWFkZXJzLmluZ3JlZGllbnRzO1xyXG4gIGNvbnN0IGluc3RydWN0aW9ucyA9IGhlYWRlcnMuaW5zdHJ1Y3Rpb25zO1xyXG4gIGNvbnN0IGNhdGVnb3J5ID0gaGVhZGVycy5jYXRlZ29yeTtcclxuICBjb25zdCBkaWZmaWN1bHR5ID0gaGVhZGVycy5kaWZmaWN1bHR5O1xyXG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICYmIHR5cGVvZiBkZXNjcmlwdGlvbiAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICYmIHR5cGVvZiBpbmdyZWRpZW50cyAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICYmIHR5cGVvZiBpbnN0cnVjdGlvbnMgIT09ICd1bmRlZmluZWQnXHJcbiAgICAmJiB0eXBlb2YgY2F0ZWdvcnkgIT09ICd1bmRlZmluZWQnXHJcbiAgICAmJiB0eXBlb2YgZGlmZmljdWx0eSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIGNvbnN0IGluZGV4ID0gcmVjaXBlcy5maW5kSW5kZXgocmVjaXBlID0+IHJlY2lwZS5uYW1lID09IG5hbWUpO1xyXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlJlY2lwZSBhbHJlYWR5IGV4aXN0cyFcIik7XHJcbiAgICAgIGN0eC5yZXNwb25zZS5ib2R5ID0geyB0ZXh0OiAnUmVjaXBlIGFscmVhZHkgZXhpc3RzIScgfTtcclxuICAgICAgY3R4LnJlc3BvbnNlLnN0YXR1cyA9IDQwNDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBtYXhJZCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHJlY2lwZXMubWFwKGZ1bmN0aW9uIChyZWNpcGUpIHtcclxuICAgICAgICByZXR1cm4gcmVjaXBlLmlkO1xyXG4gICAgICB9KSkgKyAxO1xyXG4gICAgICBsZXQgcmVjaXBlID0ge1xyXG4gICAgICAgIGlkOiBtYXhJZCxcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGluZ3JlZGllbnRzLFxyXG4gICAgICAgIGluc3RydWN0aW9ucyxcclxuICAgICAgICBjYXRlZ29yeSxcclxuICAgICAgICBkaWZmaWN1bHR5XHJcbiAgICAgIH07XHJcbiAgICAgIHJlY2lwZXMucHVzaChyZWNpcGUpO1xyXG4gICAgICBicm9hZGNhc3QocmVjaXBlKTtcclxuICAgICAgY3R4LnJlc3BvbnNlLmJvZHkgPSByZWNpcGU7XHJcbiAgICAgIGN0eC5yZXNwb25zZS5zdGF0dXMgPSAyMDA7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBcIk1pc3Npbmcgb3IgaW52YWxpZDogbmFtZSwgZGVzY3JpcHRpb24sIGluZ3JlZGllbnRzLCBpbnN0cnVjdGlvbnMsIGNhdGVnb3J5IG9yIGRpZmZpY3VsdHkhXCI7XHJcbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcclxuICAgIGN0eC5yZXNwb25zZS5ib2R5ID0geyB0ZXh0OiBtZXNzYWdlIH07XHJcbiAgICBjdHgucmVzcG9uc2Uuc3RhdHVzID0gNDA0O1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIuZGVsKCcvcmVjaXBlLzppZCcsIGN0eCA9PiB7XHJcbiAgLy8gY29uc29sZS5sb2coXCJjdHg6IFwiICsgSlNPTi5zdHJpbmdpZnkoY3R4KSk7XHJcbiAgY29uc3QgaGVhZGVycyA9IGN0eC5wYXJhbXM7XHJcbiAgLy8gY29uc29sZS5sb2coXCJib2R5OiBcIiArIEpTT04uc3RyaW5naWZ5KGhlYWRlcnMpKTtcclxuICBjb25zdCBpZCA9IGhlYWRlcnMuaWQ7XHJcbiAgaWYgKHR5cGVvZiBpZCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIGNvbnN0IGluZGV4ID0gcmVjaXBlcy5maW5kSW5kZXgocmVjaXBlID0+IHJlY2lwZS5pZCA9PSBpZCk7XHJcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiTm8gcmVjaXBlIHdpdGggaWQ6IFwiICsgaWQpO1xyXG4gICAgICBjdHgucmVzcG9uc2UuYm9keSA9IHsgdGV4dDogJ0ludmFsaWQgcmVjaXBlIGlkJyB9O1xyXG4gICAgICBjdHgucmVzcG9uc2Uuc3RhdHVzID0gNDA0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IHJlY2lwZSA9IHJlY2lwZXNbaW5kZXhdO1xyXG4gICAgICByZWNpcGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIGN0eC5yZXNwb25zZS5ib2R5ID0gcmVjaXBlO1xyXG4gICAgICBjdHgucmVzcG9uc2Uuc3RhdHVzID0gMjAwO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjdHgucmVzcG9uc2UuYm9keSA9IHsgdGV4dDogJ0lkIG1pc3Npbmcgb3IgaW52YWxpZCcgfTtcclxuICAgIGN0eC5yZXNwb25zZS5zdGF0dXMgPSA0MDQ7XHJcbiAgfVxyXG59KTtcclxuXHJcbmFwcC51c2Uocm91dGVyLnJvdXRlcygpKTtcclxuYXBwLnVzZShyb3V0ZXIuYWxsb3dlZE1ldGhvZHMoKSk7XHJcblxyXG5jb25zdCBwb3J0ID0gMjMyNTtcclxuXHJcbnNlcnZlci5saXN0ZW4ocG9ydCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGDwn5qAIFNlcnZlciBsaXN0ZW5pbmcgb24gJHtwb3J0fSAuLi4g8J+agGApO1xyXG59KTsiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBSyxDQUFDO0FBQ3hCLElBQUlDLEdBQUcsR0FBR0MsTUFBTSxDQUFDQyxPQUFPLEdBQUcsSUFBSUosR0FBRyxDQUFDLENBQUM7QUFDcEMsSUFBTUssTUFBTSxHQUFHSixPQUFPLENBQUMsTUFBTSxDQUFDLENBQUNLLFlBQVksQ0FBQ0osR0FBRyxDQUFDSyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQzNELElBQU1DLFNBQVMsR0FBR1AsT0FBTyxDQUFDLElBQUksQ0FBQztBQUMvQixJQUFNUSxHQUFHLEdBQUcsSUFBSUQsU0FBUyxDQUFDRSxNQUFNLENBQUM7RUFBRUwsTUFBTSxFQUFOQTtBQUFPLENBQUMsQ0FBQztBQUM1QyxJQUFNTSxNQUFNLEdBQUdWLE9BQU8sQ0FBQyxZQUFZLENBQUM7QUFDcEMsSUFBTVcsSUFBSSxHQUFHWCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ2pDLElBQU1ZLFVB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","map":{"version":3,"names":["koa","require","app","module","exports","server","createServer","callback","WebSocket","wss","Server","Router","cors","bodyParser","use","middleware","ctx","next","start","Date","then","ms","console","log","concat","toLocaleTimeString","response","status","request","method","url","getRandomInt","min","max","Math","ceil","floor","random","receipeNames","descriptionNames","ingredientsNames","instructionsNames","categories","dificulties","recipes","i","push","id","name","length","description","ingredients","instructions","category","difficulty","router","get","body","headers","params","filter","recipe","post","index","findIndex","text","broadcast","data","clients","forEach","client","readyState","OPEN","send","JSON","stringify","maxId","apply","map","message","del","splice","routes","allowedMethods","port","listen"],"sourceRoot":"C:\\Users\\SergiuGoian\\Desktop\\Uni_projects_UBB_CS\\University_projects_UBB_CS\\SEM5\\MobileApp\\solved_exam_models\\recipe_app_model\\server\\src\\","sources":["index.js"],"sourcesContent":["var koa = require('koa');\r\nvar app = module.exports = new koa();\r\nconst server = require('http').createServer(app.callback());\r\nconst WebSocket = require('ws');\r\nconst wss = new WebSocket.Server({ server });\r\nconst Router = require('koa-router');\r\nconst cors = require('@koa/cors');\r\nconst bodyParser = require('koa-bodyparser');\r\n\r\napp.use(bodyParser());\r\n\r\napp.use(cors());\r\n\r\napp.use(middleware);\r\n\r\nfunction middleware(ctx, next) {\r\n  const start = new Date();\r\n  return next().then(() => {\r\n    const ms = new Date() - start;\r\n    console.log(`${start.toLocaleTimeString()} ${ctx.response.status}  ${ctx.request.method} ${ctx.request.url} - ${ms}ms`);\r\n  });\r\n}\r\n\r\nconst getRandomInt = (min, max) => {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min)) + min;\r\n};\r\n\r\nconst receipeNames = [\r\n  'Healthier chicken chow mein',\r\n  'One-pot healthy Mexican beef mince',\r\n  'Mongolian chicken',\r\n  'One-pan butter chicken with rice',\r\n  '17-minute chicken pot pie',\r\n  'Spanish baked chicken with chorizo rice'];\r\nconst descriptionNames = ['very good', 'healthy', 'lite', 'tasty', 'good'];\r\nconst ingredientsNames = ['chicken', 'rice', 'salamy', 'bacon', 'eggs'];\r\nconst instructionsNames = [\r\n  '1. prepare, 2. eat',\r\n  '1. prepare, 2. bake, 3. enjoy',\r\n  '1. prepare, 2. order delivey'];\r\nconst categories = ['desserts', 'main dishes', 'vegan', 'keto'];\r\nconst dificulties = ['easy', 'medium', 'hard'];\r\nconst recipes = [];\r\nfor (let i = 0; i < 20; i++) {\r\n  recipes.push({\r\n    id: i + 1,\r\n    name: receipeNames[getRandomInt(0, receipeNames.length)],\r\n    description: descriptionNames[getRandomInt(0, descriptionNames.length)],\r\n    ingredients: ingredientsNames[getRandomInt(0, ingredientsNames.length)],\r\n    instructions: instructionsNames[getRandomInt(0, instructionsNames.length)],\r\n    category: categories[getRandomInt(0, categories.length)],\r\n    difficulty: dificulties[getRandomInt(0, dificulties.length)]\r\n  });\r\n}\r\n\r\nconst router = new Router();\r\nrouter.get('/categories', ctx => {\r\n  ctx.response.body = categories;\r\n  ctx.response.status = 200;\r\n});\r\n\r\nrouter.get('/recipes/:category', ctx => {\r\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\r\n  const headers = ctx.params;\r\n  const category = headers.category;\r\n  // console.log(\"category: \" + JSON.stringify(category));\r\n  ctx.response.body = recipes.filter(recipe => recipe.category == category);\r\n  // console.log(\"body: \" + JSON.stringify(ctx.response.body));\r\n  ctx.response.status = 200;\r\n});\r\n\r\nrouter.get('/easiest', ctx => {\r\n  ctx.response.body = recipes;\r\n  ctx.response.status = 200;\r\n});\r\n\r\nrouter.post('/difficulty', ctx => {\r\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\r\n  const headers = ctx.request.body;\r\n  const difficulty = headers.difficulty;\r\n  // console.log(\"body: \" + JSON.stringify(headers));\r\n  const id = headers.id;\r\n  if (typeof id !== 'undefined' && typeof difficulty !== 'undefined') {\r\n    const index = recipes.findIndex(recipe => recipe.id == id);\r\n    if (index === -1) {\r\n      console.log(\"Recipe not available!\");\r\n      ctx.response.body = { text: 'Recipe not available!' };\r\n      ctx.response.status = 404;\r\n    } else {\r\n      let recipe = recipes[index];\r\n      recipe.difficulty = difficulty;\r\n      ctx.response.body = recipe;\r\n      ctx.response.status = 200;\r\n    }\r\n  } else {\r\n    console.log(\"Missing or invalid: id or difficulty!\");\r\n    ctx.response.body = { text: 'Missing or invalid: id or difficulty!' };\r\n    ctx.response.status = 404;\r\n  }\r\n});\r\n\r\nconst broadcast = (data) =>\r\n  wss.clients.forEach((client) => {\r\n    if (client.readyState === WebSocket.OPEN) {\r\n      client.send(JSON.stringify(data));\r\n    }\r\n  });\r\n\r\nrouter.post('/recipe', ctx => {\r\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\r\n  const headers = ctx.request.body;\r\n  // console.log(\"body: \" + JSON.stringify(headers));\r\n  const name = headers.name;\r\n  const description = headers.description;\r\n  const ingredients = headers.ingredients;\r\n  const instructions = headers.instructions;\r\n  const category = headers.category;\r\n  const difficulty = headers.difficulty;\r\n  if (typeof name !== 'undefined'\r\n    && typeof description !== 'undefined'\r\n    && typeof ingredients !== 'undefined'\r\n    && typeof instructions !== 'undefined'\r\n    && typeof category !== 'undefined'\r\n    && typeof difficulty !== 'undefined') {\r\n    const index = recipes.findIndex(recipe => recipe.name == name);\r\n    if (index !== -1) {\r\n      console.log(\"Recipe already exists!\");\r\n      ctx.response.body = { text: 'Recipe already exists!' };\r\n      ctx.response.status = 404;\r\n    } else {\r\n      let maxId = Math.max.apply(Math, recipes.map(function (recipe) {\r\n        return recipe.id;\r\n      })) + 1;\r\n      let recipe = {\r\n        id: maxId,\r\n        name,\r\n        description,\r\n        ingredients,\r\n        instructions,\r\n        category,\r\n        difficulty\r\n      };\r\n      recipes.push(recipe);\r\n      broadcast(recipe);\r\n      ctx.response.body = recipe;\r\n      ctx.response.status = 200;\r\n    }\r\n  } else {\r\n    const message = \"Missing or invalid: name, description, ingredients, instructions, category or difficulty!\";\r\n    console.log(message);\r\n    ctx.response.body = { text: message };\r\n    ctx.response.status = 404;\r\n  }\r\n});\r\n\r\nrouter.del('/recipe/:id', ctx => {\r\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\r\n  const headers = ctx.params;\r\n  // console.log(\"body: \" + JSON.stringify(headers));\r\n  const id = headers.id;\r\n  if (typeof id !== 'undefined') {\r\n    const index = recipes.findIndex(recipe => recipe.id == id);\r\n    if (index === -1) {\r\n      console.log(\"No recipe with id: \" + id);\r\n      ctx.response.body = { text: 'Invalid recipe id' };\r\n      ctx.response.status = 404;\r\n    } else {\r\n      let recipe = recipes[index];\r\n      recipes.splice(index, 1);\r\n      ctx.response.body = recipe;\r\n      ctx.response.status = 200;\r\n    }\r\n  } else {\r\n    ctx.response.body = { text: 'Id missing or invalid' };\r\n    ctx.response.status = 404;\r\n  }\r\n});\r\n\r\napp.use(router.routes());\r\napp.use(router.allowedMethods());\r\n\r\nconst port = 2325;\r\n\r\nserver.listen(port, () => {\r\n  console.log(`🚀 Server listening on ${port} ... 🚀`);\r\n});"],"mappings":"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","ignoreList":[]}},"mtime":1736187067867}}