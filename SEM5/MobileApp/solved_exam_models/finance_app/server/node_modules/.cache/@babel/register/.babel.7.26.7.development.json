{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\solved_exam_models\\\\finance_app\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\solved_exam_models\\\\finance_app\\\\server\",\"filename\":\"D:\\\\solved_exam_models\\\\finance_app\\\\server\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\solved_exam_models\\\\finance_app\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\solved_exam_models\\\\finance_app\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$47\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\solved_exam_models\\\\finance_app\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.7:development":{"value":{"code":"\"use strict\";\n\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nvar koa = require('koa');\nvar app = module.exports = new koa();\nvar server = require('http').createServer(app.callback());\nvar WebSocket = require('ws');\nvar wss = new WebSocket.Server({\n  server: server\n});\nvar Router = require('koa-router');\nvar cors = require('@koa/cors');\nvar bodyParser = require('koa-bodyparser');\napp.use(bodyParser());\napp.use(cors());\napp.use(middleware);\nfunction middleware(ctx, next) {\n  var start = new Date();\n  return next().then(function () {\n    var ms = new Date() - start;\n    console.log(\"\".concat(start.toLocaleTimeString(), \" \").concat(ctx.response.status, \" \").concat(ctx.request.method, \" \").concat(ctx.request.url, \" - \").concat(ms, \"ms\"));\n  });\n}\nvar transactions = [{\n  id: 1,\n  date: \"2023-01-25\",\n  type: \"Expense\",\n  amount: 50,\n  category: \"Food\",\n  description: \"Breakfast at café\"\n}, {\n  id: 2,\n  date: \"2023-01-25\",\n  type: \"Expense\",\n  amount: 75,\n  category: \"Transportation\",\n  description: \"Train tickets\"\n}, {\n  id: 3,\n  date: \"2023-01-26\",\n  type: \"Expense\",\n  amount: 200,\n  category: \"Shopping\",\n  description: \"Gift for a friend\"\n}, {\n  id: 4,\n  date: \"2023-01-27\",\n  type: \"Income\",\n  amount: 500,\n  category: \"Freelance work\",\n  description: \"Web development project\"\n}, {\n  id: 5,\n  date: \"2023-01-28\",\n  type: \"Expense\",\n  amount: 100,\n  category: \"Food\",\n  description: \"Dinner at restaurant\"\n}, {\n  id: 6,\n  date: \"2023-01-29\",\n  type: \"Expense\",\n  amount: 150,\n  category: \"Transportation\",\n  description: \"Taxi ride\"\n}, {\n  id: 7,\n  date: \"2023-01-30\",\n  type: \"Income\",\n  amount: 1000,\n  category: \"Salary\",\n  description: \"Monthly salary\"\n}, {\n  id: 8,\n  date: \"2023-02-01\",\n  type: \"Expense\",\n  amount: 200,\n  category: \"Food\",\n  description: \"Lunch with colleagues\"\n}, {\n  id: 9,\n  date: \"2023-02-02\",\n  type: \"Expense\",\n  amount: 75,\n  category: \"Entertainment\",\n  description: \"Movie tickets\"\n}, {\n  id: 10,\n  date: \"2023-02-03\",\n  type: \"Income\",\n  amount: 1500,\n  category: \"Freelance work\",\n  description: \"Graphic design project\"\n}, {\n  id: 11,\n  date: \"2023-02-03\",\n  type: \"Expense\",\n  amount: 50,\n  category: \"Shopping\",\n  description: \"Clothing\"\n}, {\n  id: 12,\n  date: \"2023-02-04\",\n  type: \"Expense\",\n  amount: 100,\n  category: \"Transportation\",\n  description: \"Gas for the car\"\n}, {\n  id: 13,\n  date: \"2023-02-05\",\n  type: \"Expense\",\n  amount: 50,\n  category: \"Food\",\n  description: \"Breakfast at café\"\n}, {\n  id: 14,\n  date: \"2023-02-06\",\n  type: \"Expense\",\n  amount: 75,\n  category: \"Entertainment\",\n  description: \"Concert tickets\"\n}];\nvar router = new Router();\nrouter.get('/days', function (ctx) {\n  var dates = transactions.map(function (transaction) {\n    return transaction.date;\n  });\n  var uniqueDates = new Set(dates);\n  ctx.response.body = _toConsumableArray(uniqueDates);\n  ctx.response.status = 200;\n});\nrouter.get('/transactions/:date', function (ctx) {\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\n  var headers = ctx.params;\n  var date = headers.date;\n  // console.log(\"category: \" + JSON.stringify(category));\n  ctx.response.body = transactions.filter(function (transaction) {\n    return transaction.date == date;\n  });\n  // console.log(\"body: \" + JSON.stringify(ctx.response.body));\n  ctx.response.status = 200;\n});\nrouter.get('/entries', function (ctx) {\n  ctx.response.body = transactions;\n  ctx.response.status = 200;\n});\nvar broadcast = function broadcast(data) {\n  return wss.clients.forEach(function (client) {\n    if (client.readyState === WebSocket.OPEN) {\n      client.send(JSON.stringify(data));\n    }\n  });\n};\nrouter.post('/transaction', function (ctx) {\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\n  var headers = ctx.request.body;\n  // console.log(\"body: \" + JSON.stringify(headers));\n  var date = headers.date;\n  var type = headers.type;\n  var amount = headers.amount;\n  var category = headers.category;\n  var description = headers.description;\n  if (typeof date !== 'undefined' && typeof type !== 'undefined' && typeof amount !== 'undefined' && typeof category !== 'undefined' && typeof description !== 'undefined') {\n    var index = transactions.findIndex(function (transaction) {\n      return transaction.date == date && transaction.type == type;\n    });\n    if (index !== -1) {\n      var msg = \"Transaction already exists!\";\n      console.log(msg);\n      ctx.response.body = {\n        text: msg\n      };\n      ctx.response.status = 404;\n    } else {\n      var maxId = Math.max.apply(Math, transactions.map(function (transaction) {\n        return transaction.id;\n      })) + 1;\n      var transaction = {\n        id: maxId,\n        date: date,\n        type: type,\n        category: category,\n        description: description,\n        amount: amount\n      };\n      transactions.push(transaction);\n      broadcast(transaction);\n      ctx.response.body = transaction;\n      ctx.response.status = 200;\n    }\n  } else {\n    var _msg = \"Missing or invalid date: \" + date + \" type: \" + type + \" amount: \" + amount + \" category: \" + category + \" description: \" + description;\n    console.log(_msg);\n    ctx.response.body = {\n      text: _msg\n    };\n    ctx.response.status = 404;\n  }\n});\nrouter.del('/transaction/:id', function (ctx) {\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\n  var headers = ctx.params;\n  // console.log(\"body: \" + JSON.stringify(headers));\n  var id = headers.id;\n  if (typeof id !== 'undefined') {\n    var index = transactions.findIndex(function (transaction) {\n      return transaction.id == id;\n    });\n    if (index === -1) {\n      var msg = \"No transaction with id: \" + id;\n      console.log(msg);\n      ctx.response.body = {\n        text: msg\n      };\n      ctx.response.status = 404;\n    } else {\n      var transaction = transactions[index];\n      transactions.splice(index, 1);\n      ctx.response.body = transaction;\n      ctx.response.status = 200;\n    }\n  } else {\n    ctx.response.body = {\n      text: 'Id missing or invalid'\n    };\n    ctx.response.status = 404;\n  }\n});\napp.use(router.routes());\napp.use(router.allowedMethods());\nvar port = 2307;\nserver.listen(port, function () {\n  console.log(\"\\uD83D\\uDE80 Server listening on \".concat(port, \" ... \\uD83D\\uDE80\"));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJrb2EiLCJyZXF1aXJlIiwiYXBwIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcnZlciIsImNyZWF0ZVNlcnZlciIsImNhbGxiYWNrIiwiV2ViU29ja2V0Iiwid3NzIiwiU2VydmVyIiwiUm91dGVyIiwiY29ycyIsImJvZHlQYXJzZXIiLCJ1c2UiLCJtaWRkbGV3YXJlIiwiY3R4IiwibmV4dCIsInN0YXJ0IiwiRGF0ZSIsInRoZW4iLCJtcyIsImNvbnNvbGUiLCJsb2ciLCJjb25jYXQiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJyZXNwb25zZSIsInN0YXR1cyIsInJlcXVlc3QiLCJtZXRob2QiLCJ1cmwiLCJ0cmFuc2FjdGlvbnMiLCJpZCIsImRhdGUiLCJ0eXBlIiwiYW1vdW50IiwiY2F0ZWdvcnkiLCJkZXNjcmlwdGlvbiIsInJvdXRlciIsImdldCIsImRhdGVzIiwibWFwIiwidHJhbnNhY3Rpb24iLCJ1bmlxdWVEYXRlcyIsIlNldCIsImJvZHkiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJoZWFkZXJzIiwicGFyYW1zIiwiZmlsdGVyIiwiYnJvYWRjYXN0IiwiZGF0YSIsImNsaWVudHMiLCJmb3JFYWNoIiwiY2xpZW50IiwicmVhZHlTdGF0ZSIsIk9QRU4iLCJzZW5kIiwiSlNPTiIsInN0cmluZ2lmeSIsInBvc3QiLCJpbmRleCIsImZpbmRJbmRleCIsIm1zZyIsInRleHQiLCJtYXhJZCIsIk1hdGgiLCJtYXgiLCJhcHBseSIsInB1c2giLCJkZWwiLCJzcGxpY2UiLCJyb3V0ZXMiLCJhbGxvd2VkTWV0aG9kcyIsInBvcnQiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IkQ6XFxzb2x2ZWRfZXhhbV9tb2RlbHNcXGZpbmFuY2VfYXBwXFxzZXJ2ZXJcXHNyY1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIga29hID0gcmVxdWlyZSgna29hJyk7XHJcbnZhciBhcHAgPSBtb2R1bGUuZXhwb3J0cyA9IG5ldyBrb2EoKTtcclxuY29uc3Qgc2VydmVyID0gcmVxdWlyZSgnaHR0cCcpLmNyZWF0ZVNlcnZlcihhcHAuY2FsbGJhY2soKSk7XHJcbmNvbnN0IFdlYlNvY2tldCA9IHJlcXVpcmUoJ3dzJyk7XHJcbmNvbnN0IHdzcyA9IG5ldyBXZWJTb2NrZXQuU2VydmVyKHsgc2VydmVyIH0pO1xyXG5jb25zdCBSb3V0ZXIgPSByZXF1aXJlKCdrb2Etcm91dGVyJyk7XHJcbmNvbnN0IGNvcnMgPSByZXF1aXJlKCdAa29hL2NvcnMnKTtcclxuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2tvYS1ib2R5cGFyc2VyJyk7XHJcblxyXG5hcHAudXNlKGJvZHlQYXJzZXIoKSk7XHJcblxyXG5hcHAudXNlKGNvcnMoKSk7XHJcblxyXG5hcHAudXNlKG1pZGRsZXdhcmUpO1xyXG5cclxuZnVuY3Rpb24gbWlkZGxld2FyZShjdHgsIG5leHQpIHtcclxuICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7XHJcbiAgcmV0dXJuIG5leHQoKS50aGVuKCgpID0+IHtcclxuICAgIGNvbnN0IG1zID0gbmV3IERhdGUoKSAtIHN0YXJ0O1xyXG4gICAgY29uc29sZS5sb2coYCR7c3RhcnQudG9Mb2NhbGVUaW1lU3RyaW5nKCl9ICR7Y3R4LnJlc3BvbnNlLnN0YXR1c30gJHtjdHgucmVxdWVzdC5tZXRob2R9ICR7Y3R4LnJlcXVlc3QudXJsfSAtICR7bXN9bXNgKTtcclxuICB9KTtcclxufVxyXG5cclxuY29uc3QgdHJhbnNhY3Rpb25zID0gW1xyXG4gIHtpZDogMSwgZGF0ZTogXCIyMDIzLTAxLTI1XCIsIHR5cGU6IFwiRXhwZW5zZVwiLCBhbW91bnQ6IDUwLCBjYXRlZ29yeTogXCJGb29kXCIsIGRlc2NyaXB0aW9uOiBcIkJyZWFrZmFzdCBhdCBjYWbDqVwiIH0sXHJcbiAge2lkOiAyLCBkYXRlOiBcIjIwMjMtMDEtMjVcIiwgdHlwZTogXCJFeHBlbnNlXCIsIGFtb3VudDogNzUsIGNhdGVnb3J5OiBcIlRyYW5zcG9ydGF0aW9uXCIsIGRlc2NyaXB0aW9uOiBcIlRyYWluIHRpY2tldHNcIiB9LFxyXG4gIHtpZDogMywgZGF0ZTogXCIyMDIzLTAxLTI2XCIsIHR5cGU6IFwiRXhwZW5zZVwiLCBhbW91bnQ6IDIwMCwgY2F0ZWdvcnk6IFwiU2hvcHBpbmdcIiwgZGVzY3JpcHRpb246IFwiR2lmdCBmb3IgYSBmcmllbmRcIiB9LFxyXG4gIHtpZDogNCwgZGF0ZTogXCIyMDIzLTAxLTI3XCIsIHR5cGU6IFwiSW5jb21lXCIsIGFtb3VudDogNTAwLCBjYXRlZ29yeTogXCJGcmVlbGFuY2Ugd29ya1wiLCBkZXNjcmlwdGlvbjogXCJXZWIgZGV2ZWxvcG1lbnQgcHJvamVjdFwiIH0sXHJcbiAge2lkOiA1LCBkYXRlOiBcIjIwMjMtMDEtMjhcIiwgdHlwZTogXCJFeHBlbnNlXCIsIGFtb3VudDogMTAwLCBjYXRlZ29yeTogXCJGb29kXCIsIGRlc2NyaXB0aW9uOiBcIkRpbm5lciBhdCByZXN0YXVyYW50XCIgfSxcclxuICB7aWQ6IDYsIGRhdGU6IFwiMjAyMy0wMS0yOVwiLCB0eXBlOiBcIkV4cGVuc2VcIiwgYW1vdW50OiAxNTAsIGNhdGVnb3J5OiBcIlRyYW5zcG9ydGF0aW9uXCIsIGRlc2NyaXB0aW9uOiBcIlRheGkgcmlkZVwiIH0sXHJcbiAge2lkOiA3LCBkYXRlOiBcIjIwMjMtMDEtMzBcIiwgdHlwZTogXCJJbmNvbWVcIiwgYW1vdW50OiAxMDAwLCBjYXRlZ29yeTogXCJTYWxhcnlcIiwgZGVzY3JpcHRpb246IFwiTW9udGhseSBzYWxhcnlcIiB9LFxyXG4gIHtpZDogOCwgZGF0ZTogXCIyMDIzLTAyLTAxXCIsIHR5cGU6IFwiRXhwZW5zZVwiLCBhbW91bnQ6IDIwMCwgY2F0ZWdvcnk6IFwiRm9vZFwiLCBkZXNjcmlwdGlvbjogXCJMdW5jaCB3aXRoIGNvbGxlYWd1ZXNcIiB9LFxyXG4gIHtpZDogOSwgZGF0ZTogXCIyMDIzLTAyLTAyXCIsIHR5cGU6IFwiRXhwZW5zZVwiLCBhbW91bnQ6IDc1LCBjYXRlZ29yeTogXCJFbnRlcnRhaW5tZW50XCIsIGRlc2NyaXB0aW9uOiBcIk1vdmllIHRpY2tldHNcIiB9LFxyXG4gIHtpZDogMTAsIGRhdGU6IFwiMjAyMy0wMi0wM1wiLCB0eXBlOiBcIkluY29tZVwiLCBhbW91bnQ6IDE1MDAsIGNhdGVnb3J5OiBcIkZyZWVsYW5jZSB3b3JrXCIsIGRlc2NyaXB0aW9uOiBcIkdyYXBoaWMgZGVzaWduIHByb2plY3RcIiB9LFxyXG4gIHtpZDogMTEsIGRhdGU6IFwiMjAyMy0wMi0wM1wiLCB0eXBlOiBcIkV4cGVuc2VcIiwgYW1vdW50OiA1MCwgY2F0ZWdvcnk6IFwiU2hvcHBpbmdcIiwgZGVzY3JpcHRpb246IFwiQ2xvdGhpbmdcIiB9LFxyXG4gIHtpZDogMTIsIGRhdGU6IFwiMjAyMy0wMi0wNFwiLCB0eXBlOiBcIkV4cGVuc2VcIiwgYW1vdW50OiAxMDAsIGNhdGVnb3J5OiBcIlRyYW5zcG9ydGF0aW9uXCIsIGRlc2NyaXB0aW9uOiBcIkdhcyBmb3IgdGhlIGNhclwiIH0sXHJcbiAge2lkOiAxMywgZGF0ZTogXCIyMDIzLTAyLTA1XCIsIHR5cGU6IFwiRXhwZW5zZVwiLCBhbW91bnQ6IDUwLCBjYXRlZ29yeTogXCJGb29kXCIsIGRlc2NyaXB0aW9uOiBcIkJyZWFrZmFzdCBhdCBjYWbDqVwiIH0sXHJcbiAge2lkOiAxNCwgZGF0ZTogXCIyMDIzLTAyLTA2XCIsIHR5cGU6IFwiRXhwZW5zZVwiLCBhbW91bnQ6IDc1LCBjYXRlZ29yeTogXCJFbnRlcnRhaW5tZW50XCIsIGRlc2NyaXB0aW9uOiBcIkNvbmNlcnQgdGlja2V0c1wiIH1cclxuXTtcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKTtcclxucm91dGVyLmdldCgnL2RheXMnLCBjdHggPT4ge1xyXG4gIGNvbnN0IGRhdGVzID0gdHJhbnNhY3Rpb25zLm1hcCh0cmFuc2FjdGlvbiA9PiB0cmFuc2FjdGlvbi5kYXRlKTtcclxuICBjb25zdCB1bmlxdWVEYXRlcyA9IG5ldyBTZXQoZGF0ZXMpO1xyXG4gIGN0eC5yZXNwb25zZS5ib2R5ID0gWy4uLnVuaXF1ZURhdGVzXTtcclxuICBjdHgucmVzcG9uc2Uuc3RhdHVzID0gMjAwO1xyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoJy90cmFuc2FjdGlvbnMvOmRhdGUnLCBjdHggPT4ge1xyXG4gIC8vIGNvbnNvbGUubG9nKFwiY3R4OiBcIiArIEpTT04uc3RyaW5naWZ5KGN0eCkpO1xyXG4gIGNvbnN0IGhlYWRlcnMgPSBjdHgucGFyYW1zO1xyXG4gIGNvbnN0IGRhdGUgPSBoZWFkZXJzLmRhdGU7XHJcbiAgLy8gY29uc29sZS5sb2coXCJjYXRlZ29yeTogXCIgKyBKU09OLnN0cmluZ2lmeShjYXRlZ29yeSkpO1xyXG4gIGN0eC5yZXNwb25zZS5ib2R5ID0gdHJhbnNhY3Rpb25zLmZpbHRlcih0cmFuc2FjdGlvbiA9PiB0cmFuc2FjdGlvbi5kYXRlID09IGRhdGUpO1xyXG4gIC8vIGNvbnNvbGUubG9nKFwiYm9keTogXCIgKyBKU09OLnN0cmluZ2lmeShjdHgucmVzcG9uc2UuYm9keSkpO1xyXG4gIGN0eC5yZXNwb25zZS5zdGF0dXMgPSAyMDA7XHJcbn0pO1xyXG5cclxucm91dGVyLmdldCgnL2VudHJpZXMnLCBjdHggPT4ge1xyXG4gIGN0eC5yZXNwb25zZS5ib2R5ID0gdHJhbnNhY3Rpb25zO1xyXG4gIGN0eC5yZXNwb25zZS5zdGF0dXMgPSAyMDA7XHJcbn0pO1xyXG5cclxuY29uc3QgYnJvYWRjYXN0ID0gKGRhdGEpID0+XHJcbiAgd3NzLmNsaWVudHMuZm9yRWFjaCgoY2xpZW50KSA9PiB7XHJcbiAgICBpZiAoY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgIGNsaWVudC5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbnJvdXRlci5wb3N0KCcvdHJhbnNhY3Rpb24nLCBjdHggPT4ge1xyXG4gIC8vIGNvbnNvbGUubG9nKFwiY3R4OiBcIiArIEpTT04uc3RyaW5naWZ5KGN0eCkpO1xyXG4gIGNvbnN0IGhlYWRlcnMgPSBjdHgucmVxdWVzdC5ib2R5O1xyXG4gIC8vIGNvbnNvbGUubG9nKFwiYm9keTogXCIgKyBKU09OLnN0cmluZ2lmeShoZWFkZXJzKSk7XHJcbiAgY29uc3QgZGF0ZSA9IGhlYWRlcnMuZGF0ZTtcclxuICBjb25zdCB0eXBlID0gaGVhZGVycy50eXBlO1xyXG4gIGNvbnN0IGFtb3VudCA9IGhlYWRlcnMuYW1vdW50O1xyXG4gIGNvbnN0IGNhdGVnb3J5ID0gaGVhZGVycy5jYXRlZ29yeTtcclxuICBjb25zdCBkZXNjcmlwdGlvbiA9IGhlYWRlcnMuZGVzY3JpcHRpb247XHJcbiAgaWYgKHR5cGVvZiBkYXRlICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgJiYgdHlwZW9mIHR5cGUgIT09ICd1bmRlZmluZWQnXHJcbiAgICAmJiB0eXBlb2YgYW1vdW50ICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgJiYgdHlwZW9mIGNhdGVnb3J5ICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgJiYgdHlwZW9mIGRlc2NyaXB0aW9uICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgY29uc3QgaW5kZXggPSB0cmFuc2FjdGlvbnMuZmluZEluZGV4KHRyYW5zYWN0aW9uID0+IHRyYW5zYWN0aW9uLmRhdGUgPT0gZGF0ZSAmJiB0cmFuc2FjdGlvbi50eXBlID09IHR5cGUpO1xyXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICBjb25zdCBtc2cgPSBcIlRyYW5zYWN0aW9uIGFscmVhZHkgZXhpc3RzIVwiO1xyXG4gICAgICBjb25zb2xlLmxvZyhtc2cpO1xyXG4gICAgICBjdHgucmVzcG9uc2UuYm9keSA9IHsgdGV4dDogbXNnIH07XHJcbiAgICAgIGN0eC5yZXNwb25zZS5zdGF0dXMgPSA0MDQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgbWF4SWQgPSBNYXRoLm1heC5hcHBseShNYXRoLCB0cmFuc2FjdGlvbnMubWFwKHRyYW5zYWN0aW9uID0+IHRyYW5zYWN0aW9uLmlkKSkgKyAxO1xyXG4gICAgICBsZXQgdHJhbnNhY3Rpb24gPSB7XHJcbiAgICAgICAgaWQ6IG1heElkLFxyXG4gICAgICAgIGRhdGUsXHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICBjYXRlZ29yeSxcclxuICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICBhbW91bnRcclxuICAgICAgfTtcclxuICAgICAgdHJhbnNhY3Rpb25zLnB1c2godHJhbnNhY3Rpb24pO1xyXG4gICAgICBicm9hZGNhc3QodHJhbnNhY3Rpb24pO1xyXG4gICAgICBjdHgucmVzcG9uc2UuYm9keSA9IHRyYW5zYWN0aW9uO1xyXG4gICAgICBjdHgucmVzcG9uc2Uuc3RhdHVzID0gMjAwO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBtc2cgPSBcIk1pc3Npbmcgb3IgaW52YWxpZCBkYXRlOiBcIiArIGRhdGUgKyBcIiB0eXBlOiBcIiArIHR5cGVcclxuICAgICAgKyBcIiBhbW91bnQ6IFwiICsgYW1vdW50ICsgXCIgY2F0ZWdvcnk6IFwiICsgY2F0ZWdvcnkgKyBcIiBkZXNjcmlwdGlvbjogXCIgKyBkZXNjcmlwdGlvbjtcclxuICAgIGNvbnNvbGUubG9nKG1zZyk7XHJcbiAgICBjdHgucmVzcG9uc2UuYm9keSA9IHsgdGV4dDogbXNnIH07XHJcbiAgICBjdHgucmVzcG9uc2Uuc3RhdHVzID0gNDA0O1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIuZGVsKCcvdHJhbnNhY3Rpb24vOmlkJywgY3R4ID0+IHtcclxuICAvLyBjb25zb2xlLmxvZyhcImN0eDogXCIgKyBKU09OLnN0cmluZ2lmeShjdHgpKTtcclxuICBjb25zdCBoZWFkZXJzID0gY3R4LnBhcmFtcztcclxuICAvLyBjb25zb2xlLmxvZyhcImJvZHk6IFwiICsgSlNPTi5zdHJpbmdpZnkoaGVhZGVycykpO1xyXG4gIGNvbnN0IGlkID0gaGVhZGVycy5pZDtcclxuICBpZiAodHlwZW9mIGlkICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgY29uc3QgaW5kZXggPSB0cmFuc2FjdGlvbnMuZmluZEluZGV4KHRyYW5zYWN0aW9uID0+IHRyYW5zYWN0aW9uLmlkID09IGlkKTtcclxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgY29uc3QgbXNnID0gXCJObyB0cmFuc2FjdGlvbiB3aXRoIGlkOiBcIiArIGlkO1xyXG4gICAgICBjb25zb2xlLmxvZyhtc2cpO1xyXG4gICAgICBjdHgucmVzcG9uc2UuYm9keSA9IHsgdGV4dDogbXNnIH07XHJcbiAgICAgIGN0eC5yZXNwb25zZS5zdGF0dXMgPSA0MDQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgdHJhbnNhY3Rpb24gPSB0cmFuc2FjdGlvbnNbaW5kZXhdO1xyXG4gICAgICB0cmFuc2FjdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgY3R4LnJlc3BvbnNlLmJvZHkgPSB0cmFuc2FjdGlvbjtcclxuICAgICAgY3R4LnJlc3BvbnNlLnN0YXR1cyA9IDIwMDtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgY3R4LnJlc3BvbnNlLmJvZHkgPSB7IHRleHQ6ICdJZCBtaXNzaW5nIG9yIGludmFsaWQnIH07XHJcbiAgICBjdHgucmVzcG9uc2Uuc3RhdHVzID0gNDA0O1xyXG4gIH1cclxufSk7XHJcblxyXG5hcHAudXNlKHJvdXRlci5yb3V0ZXMoKSk7XHJcbmFwcC51c2Uocm91dGVyLmFsbG93ZWRNZXRob2RzKCkpO1xyXG5cclxuY29uc3QgcG9ydCA9IDIzMDc7XHJcblxyXG5zZXJ2ZXIubGlzdGVuKHBvcnQsICgpID0+IHtcclxuICBjb25zb2xlLmxvZyhg8J+agCBTZXJ2ZXIgbGlzdGVuaW5nIG9uICR7cG9ydH0gLi4uIPCfmoBgKTtcclxufSk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQUlBLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUssQ0FBQztBQUN4QixJQUFJQyxHQUFHLEdBQUdDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLElBQUlKLEdBQUcsQ0FBQyxDQUFDO0FBQ3BDLElBQU1LLE1BQU0sR0FB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","map":{"version":3,"names":["koa","require","app","module","exports","server","createServer","callback","WebSocket","wss","Server","Router","cors","bodyParser","use","middleware","ctx","next","start","Date","then","ms","console","log","concat","toLocaleTimeString","response","status","request","method","url","transactions","id","date","type","amount","category","description","router","get","dates","map","transaction","uniqueDates","Set","body","_toConsumableArray","headers","params","filter","broadcast","data","clients","forEach","client","readyState","OPEN","send","JSON","stringify","post","index","findIndex","msg","text","maxId","Math","max","apply","push","del","splice","routes","allowedMethods","port","listen"],"sourceRoot":"D:\\solved_exam_models\\finance_app\\server\\src\\","sources":["index.js"],"sourcesContent":["var koa = require('koa');\r\nvar app = module.exports = new koa();\r\nconst server = require('http').createServer(app.callback());\r\nconst WebSocket = require('ws');\r\nconst wss = new WebSocket.Server({ server });\r\nconst Router = require('koa-router');\r\nconst cors = require('@koa/cors');\r\nconst bodyParser = require('koa-bodyparser');\r\n\r\napp.use(bodyParser());\r\n\r\napp.use(cors());\r\n\r\napp.use(middleware);\r\n\r\nfunction middleware(ctx, next) {\r\n  const start = new Date();\r\n  return next().then(() => {\r\n    const ms = new Date() - start;\r\n    console.log(`${start.toLocaleTimeString()} ${ctx.response.status} ${ctx.request.method} ${ctx.request.url} - ${ms}ms`);\r\n  });\r\n}\r\n\r\nconst transactions = [\r\n  {id: 1, date: \"2023-01-25\", type: \"Expense\", amount: 50, category: \"Food\", description: \"Breakfast at café\" },\r\n  {id: 2, date: \"2023-01-25\", type: \"Expense\", amount: 75, category: \"Transportation\", description: \"Train tickets\" },\r\n  {id: 3, date: \"2023-01-26\", type: \"Expense\", amount: 200, category: \"Shopping\", description: \"Gift for a friend\" },\r\n  {id: 4, date: \"2023-01-27\", type: \"Income\", amount: 500, category: \"Freelance work\", description: \"Web development project\" },\r\n  {id: 5, date: \"2023-01-28\", type: \"Expense\", amount: 100, category: \"Food\", description: \"Dinner at restaurant\" },\r\n  {id: 6, date: \"2023-01-29\", type: \"Expense\", amount: 150, category: \"Transportation\", description: \"Taxi ride\" },\r\n  {id: 7, date: \"2023-01-30\", type: \"Income\", amount: 1000, category: \"Salary\", description: \"Monthly salary\" },\r\n  {id: 8, date: \"2023-02-01\", type: \"Expense\", amount: 200, category: \"Food\", description: \"Lunch with colleagues\" },\r\n  {id: 9, date: \"2023-02-02\", type: \"Expense\", amount: 75, category: \"Entertainment\", description: \"Movie tickets\" },\r\n  {id: 10, date: \"2023-02-03\", type: \"Income\", amount: 1500, category: \"Freelance work\", description: \"Graphic design project\" },\r\n  {id: 11, date: \"2023-02-03\", type: \"Expense\", amount: 50, category: \"Shopping\", description: \"Clothing\" },\r\n  {id: 12, date: \"2023-02-04\", type: \"Expense\", amount: 100, category: \"Transportation\", description: \"Gas for the car\" },\r\n  {id: 13, date: \"2023-02-05\", type: \"Expense\", amount: 50, category: \"Food\", description: \"Breakfast at café\" },\r\n  {id: 14, date: \"2023-02-06\", type: \"Expense\", amount: 75, category: \"Entertainment\", description: \"Concert tickets\" }\r\n];\r\n\r\nconst router = new Router();\r\nrouter.get('/days', ctx => {\r\n  const dates = transactions.map(transaction => transaction.date);\r\n  const uniqueDates = new Set(dates);\r\n  ctx.response.body = [...uniqueDates];\r\n  ctx.response.status = 200;\r\n});\r\n\r\nrouter.get('/transactions/:date', ctx => {\r\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\r\n  const headers = ctx.params;\r\n  const date = headers.date;\r\n  // console.log(\"category: \" + JSON.stringify(category));\r\n  ctx.response.body = transactions.filter(transaction => transaction.date == date);\r\n  // console.log(\"body: \" + JSON.stringify(ctx.response.body));\r\n  ctx.response.status = 200;\r\n});\r\n\r\nrouter.get('/entries', ctx => {\r\n  ctx.response.body = transactions;\r\n  ctx.response.status = 200;\r\n});\r\n\r\nconst broadcast = (data) =>\r\n  wss.clients.forEach((client) => {\r\n    if (client.readyState === WebSocket.OPEN) {\r\n      client.send(JSON.stringify(data));\r\n    }\r\n  });\r\n\r\nrouter.post('/transaction', ctx => {\r\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\r\n  const headers = ctx.request.body;\r\n  // console.log(\"body: \" + JSON.stringify(headers));\r\n  const date = headers.date;\r\n  const type = headers.type;\r\n  const amount = headers.amount;\r\n  const category = headers.category;\r\n  const description = headers.description;\r\n  if (typeof date !== 'undefined'\r\n    && typeof type !== 'undefined'\r\n    && typeof amount !== 'undefined'\r\n    && typeof category !== 'undefined'\r\n    && typeof description !== 'undefined') {\r\n    const index = transactions.findIndex(transaction => transaction.date == date && transaction.type == type);\r\n    if (index !== -1) {\r\n      const msg = \"Transaction already exists!\";\r\n      console.log(msg);\r\n      ctx.response.body = { text: msg };\r\n      ctx.response.status = 404;\r\n    } else {\r\n      let maxId = Math.max.apply(Math, transactions.map(transaction => transaction.id)) + 1;\r\n      let transaction = {\r\n        id: maxId,\r\n        date,\r\n        type,\r\n        category,\r\n        description,\r\n        amount\r\n      };\r\n      transactions.push(transaction);\r\n      broadcast(transaction);\r\n      ctx.response.body = transaction;\r\n      ctx.response.status = 200;\r\n    }\r\n  } else {\r\n    const msg = \"Missing or invalid date: \" + date + \" type: \" + type\r\n      + \" amount: \" + amount + \" category: \" + category + \" description: \" + description;\r\n    console.log(msg);\r\n    ctx.response.body = { text: msg };\r\n    ctx.response.status = 404;\r\n  }\r\n});\r\n\r\nrouter.del('/transaction/:id', ctx => {\r\n  // console.log(\"ctx: \" + JSON.stringify(ctx));\r\n  const headers = ctx.params;\r\n  // console.log(\"body: \" + JSON.stringify(headers));\r\n  const id = headers.id;\r\n  if (typeof id !== 'undefined') {\r\n    const index = transactions.findIndex(transaction => transaction.id == id);\r\n    if (index === -1) {\r\n      const msg = \"No transaction with id: \" + id;\r\n      console.log(msg);\r\n      ctx.response.body = { text: msg };\r\n      ctx.response.status = 404;\r\n    } else {\r\n      let transaction = transactions[index];\r\n      transactions.splice(index, 1);\r\n      ctx.response.body = transaction;\r\n      ctx.response.status = 200;\r\n    }\r\n  } else {\r\n    ctx.response.body = { text: 'Id missing or invalid' };\r\n    ctx.response.status = 404;\r\n  }\r\n});\r\n\r\napp.use(router.routes());\r\napp.use(router.allowedMethods());\r\n\r\nconst port = 2307;\r\n\r\nserver.listen(port, () => {\r\n  console.log(`🚀 Server listening on ${port} ... 🚀`);\r\n});"],"mappings":"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","ignoreList":[]}},"mtime":1737964755850}}